# Ajax与Nodejs第4天

## 一、数据库导入导出

### 1.1 导出数据

 mongoexport -d 数据库名称 -c 集合名称 -o 导出文件名称

### 1.2 导入数据

 mongoimport -d 数据库名称 -c 集合名称 --file 文件名称



## 二、 路径

在js中书写的路径分为两种：前端路径和服务器端路径

### 2.1 **前端路径**

指的是以html、js、css自身查找的文件路径

​	绝对路径：相对于服务器上的根目录（所有文件，引入的地址写法一致）

​		1 补全写法 http://localhost:3000/web/demo.css

​		2 省略协议 //localhost:3000/web/demo.css

​		3 省略协议以及端口  /web/demo.css (常用方式)

​	相对路径：是相对于文件自身开始查找的路径

​		在路径的前面加上./，../或者不加都是以自身文件开始查找

​		注意： css文件是相对于自身所在的文件开始查找

### 2.2 **后端路径**

nodejs中使用的路径

​	绝对路径：

​		相对于盘符根目录

​	相对路径：

​		是相对于文件自身来查找的

​	如果通过require方法引入的文件，没有在node_modules中的时候，引入的时候必须加上./

```html

```

## 三、 Ajax

在很久以前，浏览器只是为了渲染静态页面。但是随着技术更新换代，人们开始大量使用表单与网页进行交互。但是我们都知道，如果使用表单

提交数据的时候，会刷新页面（跳转页面）为了避免跳转页面，Ajax 就出现了

​	表单提交问题，例如：当我们只是修改表单中某一个字段的时候，点击提交按钮，依然会跳转页面

特点：使用AJAX不仅仅可以与服务器中进行数据交互，还可以在不跳转页面的情况下实现局部页面更新

全称：Asynchronous javascript And XML  异步的JS和XML

XML：可拓展标记语言，也以前也是进行前后端数据交互的

特点：只要具备文档声明， 所有的标签都是自定义的。但是使用XML传递数据的时候，前端解析起来比较麻烦，后端生成文件也是比较麻烦，所

以逐渐被json数据所代替

### 3.1 使用 Ajax

AJAX不是一门新技术，最早出现在IE5

​	在IE8以上包括高级浏览器它们都支持XMLHttpRequest这个构造函数

​	在IE8之前它们支持ActiveXObject这个构造函数

通过构造函数的实例化对象调用某些方法即可发送AJAX请求

onreadyStatechang: 该方法会在状态码发生改变的时候执行

readyState: 状态码

> ​	0：未初始化
>
> ​	1：已经调用open方法
>
> ​	2：已经接收到响应头
>
> ​	3：已经接收一部分响应文本
>
> ​	4：接收全部响应文本

status: 服务器的状态码

> ​	200 表示成功
>
> ​	304 表示重定向
>
> ​	404 表示文件没有找到
>
> ​	500 服务器内部发生错误

responseText: 接收到的响应文本

open:用于建立TCP连接

使用方式：

> ​	xhr.open(method, url, bool)
>
> ​		method:  	本次请求的方式
>
> ​		url:		 本次请求的路径 （可以携带query数据）
>
> ​		bool:	 决定了本次发送请求的时候使用异步或是同步 通常传递true表示异步

send: 用于发送HTTP请求

使用方式：

> ​	xhr.send(query)
>
> ​		query： 本次请求的时候携带的数据 （get请求是不需要传递的）而post请求需要传递

setRequestHeader： 该方法用于修改请求头，例如：将数据模拟为真正的表单数据



### 3.2 处理get请求

```html

```



### 3.3 处理post请求

```html

```

